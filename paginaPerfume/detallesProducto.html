<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle del Perfume</title>
  <link rel="stylesheet" href="css/tienda.css">
</head>

<body>
  <header>
    <h1>Detalle del Perfume</h1>
    <nav>
      <a href="tienda.html">Tienda</a>
    </nav>
  </header>

  <main class="detalle">
    <img id="imagen" src="" alt="Perfume Detalle">
    <div class="info">
      <h2 id="nombre"></h2>
      <p><strong>Género:</strong> <span id="genero"></span></p>
      <p><strong>Tipo:</strong> <span id="tipo"></span></p>
      <p class="precio-normal" id="precio-normal"></p>
      <p class="precio-internet" id="precio-internet"></p>
      <button onclick="agregarAlCarro()">Agregar al carro</button>
    </div>
  </main>

  <footer>  
    <p>&copy; 2025 DuocFragancias</p>
  </footer>

  <script>
    // Base de datos simple de perfumes
    const productos = [
      {
        id: 1,
        nombre: "Armaf Le Parfait Homme EDP 200 ml",
        genero: "Hombre",
        tipo: "Eau de Parfum",
        precioNormal: 41900,
        precioInternet: 30943,
        imagen: "img/Le Parfait Pour Homme Armaf.webp"
      },
      {
        id: 2,
        nombre: "Dior Homme Intense 100 ml",
        genero: "Hombre",
        tipo: "Eau de Parfum",
        precioNormal: 63000,
        precioInternet: 50990,
        imagen: "img/Dior Homme Intense Edp 100ml Hombre.webp"
      },
      {
        id: 3,
        nombre: "Creed Aventus 120 ml",
        genero: "Unisex",
        tipo: "Eau de Parfum",
        precioNormal: 140000,
        precioInternet: 119900,
        imagen: "img/Creed Aventus.webp"
      },
      {
        id: 4,
        nombre: "Coco Mademoiselle Intense Chanel 100 ML",
        genero: "Mujer",
        tipo: "Eau de Parfum",
        precioNormal: 92000,
        precioInternet: 69900,
        imagen: "img/Coco Mademoiselle Intense Chanel.webp"
      },
      {
        id: 5,
        nombre: "1 Million Rabanne 100 ML",
        genero: "Hombre",
        tipo: "Eau de Toilette",
        precioNormal: 68500,
        precioInternet: 47990,
        imagen: "img/1 Million Rabanne.webp"
      },
      {
        id: 6,
        nombre: "Good Girl Carolina Herrera 80 ML",
        genero: "Mujer",
        tipo: "Eau de Parfum",
        precioNormal: 82000,
        precioInternet: 58990,
        imagen: "img/Good Girl Carolina Herrera.jpg"
      },
      {
        id: 7,
        nombre: "Eros Versace 100 ML",
        genero: "Hombre",
        tipo: "Eau de Toilette",
        precioNormal: 59000,
        precioInternet: 45990,
        imagen: "img/Eros Versace.webp"
      },
      {
        id: 8,
        nombre: "La Vie Est Belle Lancôme 100 ML",
        genero: "Mujer",
        tipo: "Eau de Parfum",
        precioNormal: 67000,
        precioInternet: 54990,
        imagen: "img/La Vie Est Belle Lancôme.webp"
      },
      {
        id: 9,
        nombre: "Black Orchid Tom Ford 100 ML",
        genero: "Unisex",
        tipo: "Eau de Parfum",
        precioNormal: 182000,
        precioInternet: 159900,
        imagen: "img/Black Orchid Tom Ford.jpg"
      },
      {
        id: 10,
        nombre: "Burberry Brit Eau de Toilette Burberry 100 ML",
        genero: "Mujer",
        tipo: "Eau de Toilette",
        precioNormal: 79000,
        precioInternet: 63990,
        imagen: "img/Burberry Brit Eau de Toilette Burberry.jpg"
      },
      {
        id: 11,
        nombre: "La Nuit de l'Homme Yves Saint Laurent 100 ML",
        genero: "Hombre",
        tipo: "Eau de Toilette",
        precioNormal: 92500,
        precioInternet: 72990,
        imagen: "img/La Nuit de l'Homme Yves Saint Laurent.webp"
      },
      {
        id: 12,
        nombre: "Valentino Uomo Born In Roma Intense Valentino 100 ML",
        genero: "Hombre",
        tipo: "Eau de Parfum",
        precioNormal: 53000,
        precioInternet: 38990,
        imagen: "img/Valentino Uomo Born In Roma Intense Valentino.jpg"
      }
    ];


    // Leer el ID desde la URL
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get("id"));

    const producto = productos.find(p => p.id === id);

    if (producto) {
      document.getElementById("imagen").src = producto.imagen;
      document.getElementById("imagen").alt = producto.nombre;
      document.getElementById("nombre").innerText = producto.nombre;
      document.getElementById("genero").innerText = producto.genero;
      document.getElementById("tipo").innerText = producto.tipo;
      document.getElementById("precio-normal").innerText =
        "$" + producto.precioNormal.toLocaleString("es-CL");
      document.getElementById("precio-internet").innerText =
        "$" + producto.precioInternet.toLocaleString("es-CL");
    } else {
      document.querySelector(".detalle").innerHTML = "<p>Producto no encontrado.</p>";
    }

    function agregarAlCarro() {
      if (!producto) return;

      let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
      carrito.push({
        id: producto.id,
        nombre: producto.nombre,
        precio: producto.precioInternet,
        imagen: producto.imagen
      });
      localStorage.setItem("carrito", JSON.stringify(carrito));
      alert("Producto agregado al carrito");
    }
  </script>
</body>

</html>